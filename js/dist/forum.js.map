{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@foskym/flarum-oauth-center/webpack/bootstrap","webpack://@foskym/flarum-oauth-center/webpack/runtime/compat get default export","webpack://@foskym/flarum-oauth-center/webpack/runtime/define property getters","webpack://@foskym/flarum-oauth-center/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-oauth-center/webpack/runtime/make namespace object","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/extenders']\"","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/Model']\"","webpack://@foskym/flarum-oauth-center/./src/common/models/Client.js","webpack://@foskym/flarum-oauth-center/./src/common/models/Scope.js","webpack://@foskym/flarum-oauth-center/./src/common/extend.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['forum/app']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/extend']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['forum/components/UserPage']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Page']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['forum/components/LogInModal']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@foskym/flarum-oauth-center/./src/forum/components/oauth/AuthorizePage.js","webpack://@foskym/flarum-oauth-center/./src/forum/components/user/AuthorizedPage.js","webpack://@foskym/flarum-oauth-center/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Client extends Model {\n  client_id = Model.attribute('client_id');\n  client_secret = Model.attribute('client_secret');\n  redirect_uri = Model.attribute('redirect_uri');\n  grant_types = Model.attribute('grant_types');\n  scope = Model.attribute('scope');\n  user_id = Model.attribute('user_id');\n  client_name = Model.attribute('client_name');\n  client_icon = Model.attribute('client_icon');\n  client_desc = Model.attribute('client_desc');\n  client_home = Model.attribute('client_home');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Client extends Model {\n  scope = Model.attribute('scope');\n  resource_path = Model.attribute('resource_path');\n  method = Model.attribute('method');\n  is_default = Model.attribute('is_default', value => value === 1);\n  scope_name = Model.attribute('scope_name');\n  scope_icon = Model.attribute('scope_icon');\n  scope_desc = Model.attribute('scope_desc');\n}\n","import Extend from 'flarum/common/extenders';\nimport Client from \"./models/Client\";\nimport Scope from \"./models/Scope\";\n\nexport default [\n  new Extend.Store()\n    .add('oauth-clients', Client)\n    .add('oauth-scopes', Scope),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/LogInModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import app from 'flarum/forum/app';\nimport {extend} from 'flarum/common/extend';\nimport Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LogInModal from 'flarum/forum/components/LogInModal';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class AuthorizePage extends IndexPage {\n    params = [];\n    client = null;\n\n    oninit(vnode) {\n        super.oninit(vnode);\n        if (!app.session.user) {\n            setTimeout(() => app.modal.show(LogInModal), 500);\n        }\n\n        const params = m.route.param();\n\n        if (params.client_id == null || params.response_type == null || params.redirect_uri == null) {\n            m.route.set('/');\n        } else {\n            this.params = params;\n            app.store.find('oauth-clients', params.client_id).then(client => {\n                if (client.length === 0) {\n                    m.route.set('/');\n                } else {\n                    this.client = client[0];\n                    let uris = null;\n                    if (this.client.redirect_uri().indexOf(' ') > -1) {\n                        uris = this.client.redirect_uri().split(' ');\n                    } else {\n                        uris = [this.client.redirect_uri()];\n                    }\n\n                    if (app.forum.attribute('foskym-oauth-center.require_exact_redirect_uri') && uris.indexOf(params.redirect_uri) == -1) {\n                        m.route.set('/');\n                    }\n                    if (app.forum.attribute('foskym-oauth-center.allow_implicit') && params.response_type == 'token') {\n                        m.route.set('/');\n                    }\n                    if (app.forum.attribute('foskym-oauth-center.enforce_state') && params.enforce_state == null) {\n                        m.route.set('/');\n                    }\n                }\n            });\n        }\n    }\n\n    setTitle() {\n        app.setTitle(extractText(app.translator.trans('foskym-oauth-center.forum.page.title.authorize')));\n        app.setTitleCount(0);\n    }\n\n    view() {\n        if (!this.client) {\n            return '';\n        }\n        return (\n            <div className=\"AuthorizePage\">\n                <div className=\"container\">\n                    <div class=\"oauth-area\">\n                        <div class=\"oauth-main\">\n                            <div class=\"oauth-box oauth-header\">\n                                <h2>{app.forum.attribute('title')}</h2>\n                                <p>\n                                    {app.translator.trans('foskym-oauth-center.forum.authorize.access')} <a href={this.client.client_home()} target=\"_blank\">{this.client.client_name()}</a>\n                                </p>\n\n                            </div>\n                            <div class=\"oauth-box oauth-body\">\n\n                                <div class=\"oauth-top\">\n                                    <img src={app.forum.attribute('faviconUrl')}/>\n                                    <i class=\"fas fa-exchange-alt fa-2x\"></i>\n                                    <Tooltip text={this.client.client_desc()}>\n                                        <img src={this.client.client_icon()}/>\n                                    </Tooltip>\n                                </div>\n                                <div class=\"oauth-scope-area\">\n                                    <div class=\"oauth-scope\">\n                                        <div class=\"oauth-scope-left\">\n                                            <img class=\"oauth-scope-object\" src=\"/static/icon.jpg\" style=\"width:32px\"/>\n                                        </div>\n                                        <div class=\"oauth-scope-body\">\n                                            <h6 class=\"oauth-scope-heading\">\n                                                保持对已向 计量便民平台 授予访问权限的数据的访问权限 </h6>\n                                            <small>\n                                                即使当前没有使用该应用，也允许 计量便民平台 查看和更新你授予其访问权限的数据。这不会向\n                                                计量便民平台 授予任何其他权限。 </small>\n                                        </div>\n                                    </div>\n                                    <div class=\"oauth-scope\">\n                                        <div class=\"oauth-scope-left\">\n                                            <i class=\"oauth-scope-object fa-2x fa fa-user\"\n                                               style=\"margin-left:2px;color:#000\"></i>\n                                        </div>\n                                        <div class=\"oauth-scope-body\">\n                                            <h6 class=\"oauth-scope-heading\">\n                                                读取用户个人资料 </h6>\n                                            <small>\n                                                访问该用户(mouse123)的个人信息、最新动态等 </small>\n                                        </div>\n                                    </div>\n                                </div>\n                                <form class=\"oauth-form\" method=\"post\" id=\"form\">\n                                    <input type=\"hidden\" name=\"response_type\" value=\"code\"/>\n                                    <input type=\"hidden\" name=\"client_id\" value=\"0eaCTcndUqIGo9LymQ3YVZGYVpEXcHer\"/>\n                                    <input type=\"hidden\" name=\"redirect_uri\"\n                                           value=\"http://cjludev.top/user/auth/callback\"/>\n                                    <input type=\"hidden\" name=\"state\" value=\"123\"/>\n                                    <input type=\"hidden\" name=\"scope\" value=\"basic get_user_info\"/>\n                                    <div style=\"display: flex;\">\n                                        <button class=\"btn btn-success btn-block\" type=\"submit\"\n                                                id=\"authorize\" style=\"width: 50%;\">授权\n                                        </button>\n                                        <button class=\"btn btn-danger btn-block\" id=\"refuse\"\n                                                style=\"width: 50%;\">拒绝\n                                        </button>\n                                    </div>\n                                </form>\n\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import UserPage from 'flarum/forum/components/UserPage';\nexport default class AuthorizedPage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loadUser(m.route.param('username'));\n  }\n  content() {\n    return (\n      <div className=\"AuthorizedPage\">\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport {extend} from 'flarum/common/extend';\nimport UserPage from 'flarum/forum/components/UserPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport AuthorizePage from \"./components/oauth/AuthorizePage\";\nimport AuthorizedPage from \"./components/user/AuthorizedPage\";\napp.initializers.add('foskym/flarum-oauth-center', () => {\n  app.routes['oauth.authorize'] = {\n    path: '/oauth/authorize',\n    component: AuthorizePage\n  };\n\n  app.routes['user.authorized'] = {\n    path: '/u/:username/authorized',\n    component: AuthorizedPage\n  };\n  extend(UserPage.prototype, 'navItems', function (items) {\n    if (app.session.user && app.session.user.id() === this.user.id()) {\n      items.add(\n        'authorized',\n        LinkButton.component(\n          {\n            href: app.route('user.authorized', { username: this.user.username() }),\n            icon: 'fas fa-user-friends',\n          },\n          [\n            app.translator.trans('foskym-oauth-center.forum.page.label.authorized'),\n            // this.user.moderatorNoteCount() > 0 ? <span className=\"Button-badge\">{this.user.moderatorNoteCount()}</span> : '',\n          ]\n        ),\n        -110\n      );\n    }\n  });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","Client","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","client_id","Model","client_secret","redirect_uri","grant_types","scope","user_id","client_name","client_icon","client_desc","client_home","resource_path","method","is_default","scope_name","scope_icon","scope_desc","Extend","add","Scope","AuthorizePage","_IndexPage","params","client","_proto","oninit","vnode","_this2","app","user","setTimeout","show","LogInModal","m","route","param","response_type","set","this","find","then","uris","indexOf","split","attribute","enforce_state","setTitle","extractText","trans","view","className","class","href","target","src","Tooltip","text","style","id","type","name","IndexPage","AuthorizedPage","_UserPage","loadUser","content","UserPage","path","component","extend","items","LinkButton","username","icon"],"sourceRoot":""}