{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@foskym/flarum-oauth-center/webpack/bootstrap","webpack://@foskym/flarum-oauth-center/webpack/runtime/compat get default export","webpack://@foskym/flarum-oauth-center/webpack/runtime/define property getters","webpack://@foskym/flarum-oauth-center/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-oauth-center/webpack/runtime/make namespace object","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/extenders']\"","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/Model']\"","webpack://@foskym/flarum-oauth-center/./src/common/models/Client.js","webpack://@foskym/flarum-oauth-center/./src/common/models/Scope.js","webpack://@foskym/flarum-oauth-center/./src/common/models/Record.js","webpack://@foskym/flarum-oauth-center/./src/common/models/Token.js","webpack://@foskym/flarum-oauth-center/./src/common/extend.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/app']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Page']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Select']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@foskym/flarum-oauth-center/./src/admin/pages/IndexPage.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@foskym/flarum-oauth-center/./src/admin/components/EditClientModal.js","webpack://@foskym/flarum-oauth-center/./src/common/utils/randomString.js","webpack://@foskym/flarum-oauth-center/./src/admin/pages/ClientsPage.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Checkbox']\"","webpack://@foskym/flarum-oauth-center/./src/admin/components/EditScopeModal.js","webpack://@foskym/flarum-oauth-center/./src/admin/pages/ScopesPage.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@foskym/flarum-oauth-center/./src/admin/components/AddTokenModal.js","webpack://@foskym/flarum-oauth-center/./src/admin/pages/TokensPage.js","webpack://@foskym/flarum-oauth-center/./src/admin/components/SettingsPage.js","webpack://@foskym/flarum-oauth-center/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Client extends Model {\n  client_id = Model.attribute('client_id');\n  client_secret = Model.attribute('client_secret');\n  redirect_uri = Model.attribute('redirect_uri');\n  grant_types = Model.attribute('grant_types');\n  scope = Model.attribute('scope');\n  user_id = Model.attribute('user_id');\n  client_name = Model.attribute('client_name');\n  client_icon = Model.attribute('client_icon');\n  client_desc = Model.attribute('client_desc');\n  client_home = Model.attribute('client_home');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Scope extends Model {\n  scope = Model.attribute('scope');\n  resource_path = Model.attribute('resource_path');\n  method = Model.attribute('method');\n  visible_fields = Model.attribute('visible_fields');\n  is_default = Model.attribute('is_default');\n  scope_name = Model.attribute('scope_name');\n  scope_icon = Model.attribute('scope_icon');\n  scope_desc = Model.attribute('scope_desc');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Record extends Model {\n  client = Model.hasOne('client');\n  user_id = Model.attribute('user_id');\n  authorized_at = Model.attribute('authorized_at', Model.transformDate);\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Token extends Model {\n  access_token = Model.attribute('access_token');\n  client_id = Model.attribute('client_id');\n  user_id = Model.attribute('user_id');\n  expires = Model.attribute('expires', Model.transformDate);\n  scope = Model.attribute('scope');\n}\n","import Extend from 'flarum/common/extenders';\nimport Client from \"./models/Client\";\nimport Scope from \"./models/Scope\";\nimport Record from \"./models/Record\";\nimport Token from \"./models/Token\";\n\nexport default [\n  new Extend.Store()\n    .add('oauth-clients', Client)\n    .add('oauth-scopes', Scope)\n    .add('oauth-records', Record)\n    .add('oauth-tokens', Token)\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/utils/saveSettings'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport Button from 'flarum/common/components/Button';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport Stream from 'flarum/common/utils/Stream';\nimport Select from 'flarum/common/components/Select';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class IndexPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.saving = false;\n\n    this.fields = [\n      'display_mode',\n      'access_lifetime',\n\n      'allow_delete_records',\n      'allow_implicit',\n      'enforce_state',\n      'require_exact_redirect_uri',\n      'authorization_method_fetch',\n    ];\n    const settings = app.data.settings;\n    this.values = this.fields.reduce((values, key) => {\n      key = 'foskym-oauth-center.' + key;\n      values[key] = Stream(settings[key] || '');\n      return values;\n    }, {});\n\n    this.values['foskym-oauth-center.display_mode'] = this.values['foskym-oauth-center.display_mode']() || 'box';\n\n    for (let i = 2; i < this.fields.length; i++) {\n      this.values['foskym-oauth-center.' + this.fields[i]] = settings['foskym-oauth-center.' + this.fields[i]] === '1';\n    }\n  }\n\n  view() {\n    return (\n      <div>\n        <form onsubmit={this.onsubmit.bind(this)} className=\"BasicsPage\">\n          {this.fields.slice(2).map((field) =>\n            FieldSet.component({}, [\n              <div style=\"height: 5px;\"></div>,\n              Switch.component(\n                {\n                  state: this.values['foskym-oauth-center.' + field],\n                  onchange: (value) => this.saveSingleSetting(field, value),\n                  loading: this.saving,\n                },\n                app.translator.trans(`foskym-oauth-center.admin.settings.${field}`)\n              ),\n            ])\n          )}\n          <hr />\n          {FieldSet.component({}, [\n            Select.component({\n              options: {\n                box: 'Box',\n                card: 'Card',\n                column: 'Column',\n              },\n              value: this.values['foskym-oauth-center.' + this.fields[0]],\n              onchange: (value) => this.saveSingleSetting(this.fields[0], value),\n              loading: this.saving,\n            }),\n            <div className=\"helpText\">{app.translator.trans(`foskym-oauth-center.admin.settings.${this.fields[0]}`)}</div>,\n          ])}\n          <hr />\n          {FieldSet.component({}, [\n            <input\n              className=\"FormControl\"\n              bidi={this.values['foskym-oauth-center.' + this.fields[1]]}\n              placeholder={app.translator.trans(`foskym-oauth-center.admin.settings.${this.fields[1]}`)}\n              required\n            />,\n            <div className=\"helpText\">{app.translator.trans(`foskym-oauth-center.admin.settings.${this.fields[1]}`)}</div>,\n            Button.component(\n              {\n                type: 'submit',\n                className: 'Button Button--primary',\n                loading: this.saving,\n              },\n              app.translator.trans('core.admin.settings.submit_button')\n            ),\n          ])}\n        </form>\n        <hr />\n        <div>\n          <Button\n            className={'Button Button--danger'}\n            onclick={() => {\n              window.confirm(app.translator.trans('foskym-oauth-center.admin.action.delete_all_records_confirm')) &&\n                app\n                  .request({\n                    method: 'DELETE',\n                    url: app.forum.attribute('apiUrl') + '/oauth-records/all',\n                  })\n                  .then(() => {\n                    app.alerts.show({ type: 'success' }, app.translator.trans('foskym-oauth-center.admin.action.delete_all_records_success'));\n                  })\n                  .catch((error) => {\n                    m.redraw();\n                    throw error;\n                  });\n            }}\n          >\n            {app.translator.trans('foskym-oauth-center.admin.action.delete_all_records_button')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  saveSingleSetting(setting, value) {\n    if (this.saving) return;\n\n    this.saving = true;\n\n    this.values['foskym-oauth-center.' + setting] = value;\n\n    saveSettings({ ['foskym-oauth-center.' + setting]: value })\n      .then(() => app.alerts.show({ type: 'success' }, app.translator.trans('core.admin.settings.saved_message')))\n      .catch(() => {})\n      .finally(() => {\n        this.saving = false;\n        m.redraw();\n      });\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    if (this.saving) return;\n\n    this.saving = true;\n\n    const settings = {};\n\n    settings['foskym-oauth-center.access_lifetime'] = this.values['foskym-oauth-center.access_lifetime']();\n\n    if (settings['foskym-oauth-center.access_lifetime'] === '') {\n      settings['foskym-oauth-center.access_lifetime'] = 3600;\n    }\n\n    saveSettings(settings)\n      .then(() => app.alerts.show({ type: 'success' }, app.translator.trans('core.admin.settings.saved_message')))\n      .catch(() => {})\n      .finally(() => {\n        this.saving = false;\n        m.redraw();\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import app from 'flarum/admin/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nexport default class EditClientModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.client = this.attrs.client;\n    this.fields = [\n      'client_id',\n      'client_secret',\n      'redirect_uri',\n      'grant_types',\n      'scope',\n\n      'client_name',\n      'client_desc',\n      'client_icon',\n      'client_home'\n    ];\n\n    this.values = this.fields.reduce((values, key) => {\n      values[key] = Stream(this.client[key]() || '');\n      return values;\n    }, {});\n  }\n\n  className() {\n    return 'EditClientModal Modal--large';\n  }\n\n  title() {\n    return app.translator.trans('foskym-oauth-center.admin.clients.edit_client');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <form onsubmit={this.onsubmit.bind(this)}>\n          <div className=\"OAuthCenter-Columns\">\n            <div className=\"OAuthCenter-Column\">\n              {this.fields.slice(0, 5).map(key =>\n                <div className=\"Form-group\">\n                  <label>{app.translator.trans('foskym-oauth-center.admin.clients.' + key)}</label>\n                  <input className=\"FormControl\" bidi={this.values[key]} />\n                </div>\n              )}\n            </div>\n            <div className=\"OAuthCenter-Column\">\n              {this.fields.slice(5, 9).map(key =>\n                <div className=\"Form-group\">\n                  <label>{app.translator.trans('foskym-oauth-center.admin.clients.' + key)}</label>\n                  <input className=\"FormControl\" bidi={this.values[key]} />\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component({\n              type: 'submit',\n              className: 'Button Button--primary Button--block EditClientModal-save',\n              loading: this.loading,\n            }, app.translator.trans('core.admin.settings.submit_button'))}\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const clientData = this.fields.reduce((data, key) => {\n      data[key] = this.values[key]();\n      return data;\n    }, {});\n\n    this.client.save(clientData).then(() => {\n      this.loading = false;\n      m.redraw();\n      this.hide();\n    });\n  }\n}\n","export function randomString(len) {\n  len = len || 8;\n  let $chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let maxPos = $chars.length;\n  let str = '';\n  for (let i = 0; i < len; i++) {\n    //0~32的整数\n    str += $chars.charAt(Math.floor(Math.random() * (maxPos + 1)));\n  }\n  return str;\n}\n","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport EditClientModal from '../components/EditClientModal';\nimport {randomString} from \"../../common/utils/randomString\";\n\nexport default class ClientsPage extends Page {\n  translationPrefix = 'foskym-oauth-center.admin.clients.';\n  clients = [];\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.store.find('oauth-clients').then(r => {\n      this.clients = r;\n      m.redraw();\n    });\n  }\n\n  view() {\n    return (\n      <div class={\"OAuthCenter-clientsPage\"}>\n        {\n          m('.Form-group', [\n            m('table', [\n              m('thead', m('tr', [\n                ['client_id', 'client_name'].map(key => m('th', app.translator.trans(this.translationPrefix + key))),\n                m('th'),\n              ])),\n              m('tbody', [\n                this.clients.map((client, index) => m('tr', [\n                  ['client_id', 'client_name'].map(key =>\n                    m('td', client[key]())\n                  ),\n                  m('td', [\n                    Button.component({\n                      className: 'Button Button--icon',\n                      icon: 'fas fa-edit',\n                      onclick: () => this.showEditModal(client),\n                    }),\n                    Button.component({\n                      className: 'Button Button--icon',\n                      icon: 'fas fa-times',\n                      onclick: () => {\n                        client.delete();\n                        this.clients.splice(index, 1);\n                      },\n                    }),\n                  ]),\n                ])),\n                m('tr', m('td', {\n                  colspan: 2,\n                }, Button.component({\n                  className: 'Button Button--block',\n                  onclick: () => {\n                    const client_id = randomString(32);\n                    const client_secret = randomString(32);\n                    app.store.createRecord('oauth-clients').save({\n                      client_id: client_id,\n                      client_secret: client_secret,\n                    }).then(client => {\n                      this.clients.push(client);\n                      this.showEditModal(client);\n                    });\n                  },\n                }, app.translator.trans(this.translationPrefix + 'add_button')))),\n              ]),\n            ]),\n          ])\n        }\n      </div>\n    );\n  }\n\n  showEditModal(client) {\n    app.modal.show(EditClientModal, { client: client });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Checkbox'];","import app from 'flarum/admin/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nimport Select from 'flarum/common/components/Select';\nimport Checkbox from 'flarum/common/components/Checkbox';\n\nexport default class EditScopeModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.scope = this.attrs.scope;\n    this.fields = [\n      'scope',\n      'resource_path',\n      'method',\n      'is_default',\n      'scope_name',\n      'scope_icon',\n      'scope_desc',\n\n      'visible_fields',\n    ];\n\n    this.values = this.fields.reduce((values, key) => {\n      values[key] = Stream(this.scope[key]() || '');\n      return values;\n    }, {});\n  }\n\n  className() {\n    return 'EditScopeModal Modal--large';\n  }\n\n  title() {\n    return app.translator.trans('foskym-oauth-center.admin.scopes.edit_scope');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <form onsubmit={this.onsubmit.bind(this)}>\n          <div className=\"OAuthCenter-Columns\">\n            <div className=\"OAuthCenter-Column\">\n              {this.renderFormGroups(this.fields.slice(0, 4))}\n            </div>\n            <div className=\"OAuthCenter-Column\">\n              {this.renderFormGroups(this.fields.slice(4, 7))}\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('foskym-oauth-center.admin.scopes.visible_fields')}</label>\n            <textarea className=\"FormControl\" bidi={this.values['visible_fields']} rows={3} placeholder={\"id,username,email,data.attributes\"}>\n              {this.values.visible_fields()}\n            </textarea>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component({\n              type: 'submit',\n              className: 'Button Button--primary Button--block EditScopeModal-save',\n              loading: this.loading,\n            }, app.translator.trans('core.admin.settings.submit_button'))}\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const scopeData = this.fields.reduce((data, key) => {\n      data[key] = this.values[key]();\n      return data;\n    }, {});\n\n    this.scope.save(scopeData).then(() => {\n      this.loading = false;\n      m.redraw();\n      this.hide();\n    });\n  }\n\n  renderFormGroups(fields) {\n    return fields.map(key =>\n      <div className={`Form-group${(key === 'method' || key === 'is_default') ? ' OAuthCenter-FormGroup-Column' : ''}`}>\n        <label>{app.translator.trans('foskym-oauth-center.admin.scopes.' + key)}</label>\n        {key === 'method' ? Select.component({\n          options: {\n            'GET': 'GET',\n            'POST': 'POST',\n            'PUT': 'PUT',\n            'DELETE': 'DELETE',\n            'PATCH': 'PATCH',\n          },\n          value: this.values[key](),\n          onchange: this.values[key],\n        }) : key === 'is_default' ? Checkbox.component({\n          className: 'OAuthCenter-Checkbox',\n          state: this.values[key]() === 1 || false,\n          onchange: (checked) => this.values[key](checked ? 1 : 0),\n        }) : <input className=\"FormControl\" bidi={this.values[key]}/>}\n      </div>\n    )\n  }\n}\n","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport {randomString} from \"../../common/utils/randomString\";\nimport EditScopeModal from \"../components/EditScopeModal\";\n\nexport default class ScopesPage extends Page {\n  translationPrefix = 'foskym-oauth-center.admin.scopes.';\n  scopes = [];\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.fields = [\n      'scope',\n      'resource_path',\n      'method',\n      'is_default',\n      'scope_name',\n      'scope_icon',\n      'scope_desc'\n    ];\n\n    app.store.find('oauth-scopes').then(r => {\n      this.scopes = r;\n      m.redraw();\n    });\n  }\n\n  view() {\n    return (\n      <div class={\"OAuthCenter-scopesPage\"}>\n        {\n          m('.Form-group', [\n            m('table', [\n              m('thead', m('tr', [\n                ['scope', 'scope_name'].map(key => m('th', app.translator.trans(this.translationPrefix + key))),\n                m('th'),\n              ])),\n              m('tbody', [\n                this.scopes.map((scope, index) => m('tr', [\n                  ['scope', 'scope_name'].map(key =>\n                    m('td', scope[key]())\n                  ),\n                  m('td', [\n                    Button.component({\n                      className: 'Button Button--icon',\n                      icon: 'fas fa-edit',\n                      onclick: () => this.showEditModal(scope),\n                    }),\n                    Button.component({\n                      className: 'Button Button--icon',\n                      icon: 'fas fa-times',\n                      onclick: () => {\n                        scope.delete();\n                        this.scopes.splice(index, 1);\n                      },\n                    }),\n                  ]),\n                ])),\n                m('tr', m('td', {\n                  colspan: 2,\n                }, Button.component({\n                  className: 'Button Button--block',\n                  onclick: () => {\n                    app.store.createRecord('oauth-scopes')\n                      .save({\n                        'scope': 'Scope.' + randomString(8),\n                        'resource_path': '/api/' + randomString(4),\n                        'method': 'GET',\n                      })\n                      .then(scope => {\n                        this.scopes.push(scope);\n                        this.showEditModal(scope);\n                      });\n                  },\n                }, app.translator.trans(this.translationPrefix + 'add_button')))),\n              ]),\n            ]),\n          ])\n        }\n      </div>\n    );\n  }\n\n  showEditModal(scope) {\n    app.modal.show(EditScopeModal, {scope: scope});\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","import app from 'flarum/admin/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\nexport default class AddTokenModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.fields = [\n      'access_token',\n      'client_id',\n      'user_id',\n      'expires',\n      'scope'\n    ];\n\n    this.values = this.fields.reduce((values, key) => {\n      values[key] = Stream('');\n      return values;\n    }, {});\n  }\n\n  className() {\n    return 'AddTokenModal';\n  }\n\n  title() {\n    return app.translator.trans('foskym-oauth-center.admin.tokens.add_token');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <form onsubmit={this.onsubmit.bind(this)}>\n          {this.fields.map(key =>\n            <div className=\"Form-group\">\n              <label>{key}</label>\n              <input className=\"FormControl\" bidi={this.values[key]} required=\"required\"/>\n            </div>\n          )}\n          <div className=\"Form-group\">\n            {Button.component({\n              type: 'submit',\n              className: 'Button Button--primary Button--block EditClientModal-save',\n              loading: this.loading,\n            }, app.translator.trans('core.admin.settings.submit_button'))}\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n\n    const token = app.store.createRecord('oauth-tokens');\n\n    const tokenData = this.fields.reduce((data, key) => {\n      data[key] = this.values[key]();\n      return data;\n    }, {});\n\n    token.save(tokenData).then(() => {\n      this.loading = false;\n      m.redraw();\n      this.hide();\n    });\n  }\n}\n","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Alert from 'flarum/common/components/Alert';\nimport AddTokenModal from '../components/AddTokenModal';\n\nexport default class TokensPage extends Page {\n  translationPrefix = 'foskym-oauth-center.admin.tokens.';\n  scopes = [];\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.fields = [];\n\n    // app.store.find('oauth-tokens').then(r => {\n    //   this.scopes = r;\n    //   m.redraw();\n    // });\n  }\n\n  view() {\n    return (\n      <div class={\"OAuthCenter-scopesPage\"}>\n        {[\n          Button.component({\n            type: 'button',\n            className: 'Button',\n            onclick: () => {\n              this.showAddModal();\n            }\n          }, app.translator.trans('foskym-oauth-center.admin.tokens.add_token')),\n          Button.component({\n            type: 'button',\n            className: 'Button',\n            onclick: () => {\n              this.deleteExpiredTokens();\n            }\n          }, app.translator.trans('foskym-oauth-center.admin.tokens.delete_token'))\n        ]}\n      </div>\n    );\n  }\n\n  deleteExpiredTokens() {\n    app.request({\n      method: 'DELETE',\n      url: '/api/oauth-tokens/expired'\n    }).then(() => {\n      app.alerts.show(\n        Alert,\n        {type: 'success'},\n        'success!'\n      )\n    });\n  }\n\n  showAddModal() {\n    app.modal.show(AddTokenModal, {});\n  }\n}\n","import app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport IndexPage from \"../pages/IndexPage\";\nimport ClientsPage from \"../pages/ClientsPage\";\nimport ScopesPage from \"../pages/ScopesPage\";\nimport TokensPage from \"../pages/TokensPage\";\n\nexport default class SettingsPage extends ExtensionPage {\n  translationPrefix = 'foskym-oauth-center.admin.page.';\n  pages = {\n    index: IndexPage,\n    clients: ClientsPage,\n    scopes: ScopesPage,\n    tokens: TokensPage\n  };\n  icons = {\n    index: 'home',\n    clients: 'network-wired',\n    scopes: 'user-lock',\n    tokens: 'key',\n  };\n\n  content() {\n    const page = m.route.param().page || 'index';\n\n    return (\n      <div className=\"ExtensionPage-settings OAuthCenter\">\n        <div className={\"oauth-menu\"}>\n          <div className={\"container\"}>\n            {this.menuButtons(page)}\n          </div>\n        </div>\n\n        <div className=\"container OAuthCenterPage-container\">\n          {this.pageContent(page)}\n        </div>\n      </div>\n    );\n  }\n\n  // Return button menus\n  menuButtons(page) {\n    return Object.keys(this.pages).map(key =>\n      Button.component({\n        className: `Button ${page === key ? 'item-selected' : ''}`,\n        onclick: () => m.route.set(\n          app.route('extension', {\n            id: 'foskym-oauth-center',\n            page: key\n          })\n        ),\n        icon: this.iconForPage(key),\n      }, app.translator.trans(this.translationPrefix + key))\n    );\n  }\n\n  iconForPage(page) {\n    return `fas fa-${this.icons[page]}` || '';\n  }\n\n  pageContent(page) {\n    const PageComponent = this.pages[page];\n    return PageComponent ? <PageComponent/> : null;\n  }\n}\n","import app from 'flarum/admin/app';\nimport SettingsPage from './components/SettingsPage';\napp.initializers.add('foskym/flarum-oauth-center', () => {\n  app.extensionData\n    .for('foskym-oauth-center')\n    .registerPage(SettingsPage)\n    .registerPermission(\n    {\n      icon: 'fas fa-user-friends',\n      label: app.translator.trans('foskym-oauth-center.admin.permission.use_oauth'),\n      permission: 'foskym-oauth-center.use-oauth',\n    },\n    'view',\n    95\n  );\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","Client","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","client_id","Model","client_secret","redirect_uri","grant_types","scope","user_id","client_name","client_icon","client_desc","client_home","Scope","resource_path","method","visible_fields","is_default","scope_name","scope_icon","scope_desc","Record","client","authorized_at","Token","access_token","expires","Extend","add","IndexPage","_Page","_proto","oninit","vnode","this","saving","fields","settings","app","values","reduce","Stream","i","view","m","onsubmit","className","slice","map","field","FieldSet","style","Switch","state","onchange","saveSingleSetting","loading","trans","Select","options","box","card","column","bidi","placeholder","required","Button","type","onclick","window","confirm","url","attribute","then","show","error","redraw","setting","_saveSettings","_this2","saveSettings","e","_this3","preventDefault","Page","EditClientModal","_Modal","attrs","title","content","clientData","data","save","hide","Modal","randomString","len","str","charAt","Math","floor","random","ClientsPage","translationPrefix","clients","find","r","class","index","icon","showEditModal","splice","colspan","createRecord","push","EditScopeModal","renderFormGroups","rows","scopeData","Checkbox","checked","ScopesPage","scopes","AddTokenModal","token","tokenData","TokensPage","showAddModal","deleteExpiredTokens","Alert","SettingsPage","_ExtensionPage","pages","tokens","icons","page","route","param","menuButtons","pageContent","keys","set","id","iconForPage","PageComponent","ExtensionPage","registerPage","registerPermission","label","permission"],"sourceRoot":""}