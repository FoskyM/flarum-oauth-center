{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@foskym/flarum-oauth-center/webpack/bootstrap","webpack://@foskym/flarum-oauth-center/webpack/runtime/compat get default export","webpack://@foskym/flarum-oauth-center/webpack/runtime/define property getters","webpack://@foskym/flarum-oauth-center/webpack/runtime/hasOwnProperty shorthand","webpack://@foskym/flarum-oauth-center/webpack/runtime/make namespace object","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/extenders']\"","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@foskym/flarum-oauth-center/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/Model']\"","webpack://@foskym/flarum-oauth-center/./src/common/models/Client.js","webpack://@foskym/flarum-oauth-center/./src/common/models/Scope.js","webpack://@foskym/flarum-oauth-center/./src/common/extend.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/app']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Button']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Page']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Select']\"","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@foskym/flarum-oauth-center/./src/admin/pages/IndexPage.js","webpack://@foskym/flarum-oauth-center/./src/admin/pages/ClientsPage.js","webpack://@foskym/flarum-oauth-center/external root \"flarum.core.compat['common/components/Checkbox']\"","webpack://@foskym/flarum-oauth-center/./src/admin/pages/ScopesPage.js","webpack://@foskym/flarum-oauth-center/./src/admin/components/SettingsPage.js","webpack://@foskym/flarum-oauth-center/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class Client extends Model {\n  client_id = Model.attribute('client_id');\n  client_secret = Model.attribute('client_secret');\n  redirect_uri = Model.attribute('redirect_uri');\n  grant_types = Model.attribute('grant_types');\n  scope = Model.attribute('scope');\n  user_id = Model.attribute('user_id');\n  client_name = Model.attribute('client_name');\n  client_icon = Model.attribute('client_icon');\n  client_desc = Model.attribute('client_desc');\n  client_home = Model.attribute('client_home');\n}\n","import Model from 'flarum/common/Model';\n\nexport default class Scope extends Model {\n  scope = Model.attribute('scope');\n  resource_path = Model.attribute('resource_path');\n  method = Model.attribute('method');\n  is_default = Model.attribute('is_default');\n  scope_name = Model.attribute('scope_name');\n  scope_icon = Model.attribute('scope_icon');\n  scope_desc = Model.attribute('scope_desc');\n}\n","import Extend from 'flarum/common/extenders';\nimport Client from \"./models/Client\";\nimport Scope from \"./models/Scope\";\n\nexport default [\n  new Extend.Store()\n    .add('oauth-clients', Client)\n    .add('oauth-scopes', Scope),\n];\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/utils/saveSettings'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport Button from 'flarum/common/components/Button';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport Stream from 'flarum/common/utils/Stream';\nimport Select from 'flarum/common/components/Select';\nimport Switch from 'flarum/common/components/Switch';\n\nexport default class IndexPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.saving = false;\n\n    this.fields = [\n      'foskym-oauth-center.access_lifetime',\n      'foskym-oauth-center.allow_implicit',\n      'foskym-oauth-center.enforce_state',\n      'foskym-oauth-center.require_exact_redirect_uri'\n    ];\n    this.values = {};\n\n    const settings = app.data.settings;\n    this.fields.forEach(key => this.values[key] = Stream(settings[key] || \"\"));\n\n    for (let i = 1; i < this.fields.length; i++) {\n      this.values[this.fields[i]] = settings[this.fields[i]] === '1';\n    }\n  }\n\n  view() {\n    return (\n      <div>\n        <form onsubmit={this.onsubmit.bind(this)} className=\"BasicsPage\">\n          {FieldSet.component({}, [\n            <div style=\"height: 5px;\"></div>,\n            Switch.component({\n              state: this.values['foskym-oauth-center.allow_implicit'],\n              onchange: (value) => this.saveSingleSetting('foskym-oauth-center.allow_implicit', value),\n              loading: this.saving,\n            }, app.translator.trans('foskym-oauth-center.admin.settings.allow_implicit')),\n          ])}\n\n          {FieldSet.component({}, [\n            <div style=\"height: 5px;\"></div>,\n            Switch.component({\n              state: this.values['foskym-oauth-center.enforce_state'],\n              onchange: (value) => this.saveSingleSetting('foskym-oauth-center.enforce_state', value),\n              loading: this.saving,\n            }, app.translator.trans('foskym-oauth-center.admin.settings.enforce_state')),\n          ])}\n\n          {FieldSet.component({}, [\n            <div style=\"height: 5px;\"></div>,\n            Switch.component({\n              state: this.values['foskym-oauth-center.require_exact_redirect_uri'],\n              onchange: (value) => this.saveSingleSetting('foskym-oauth-center.require_exact_redirect_uri', value),\n              loading: this.saving,\n            }, app.translator.trans('foskym-oauth-center.admin.settings.require_exact_redirect_uri')),\n          ])}\n          <hr/>\n          {FieldSet.component({}, [\n            <input className=\"FormControl\" bidi={this.values['foskym-oauth-center.access_lifetime']}\n                   placeholder={app.translator.trans('foskym-oauth-center.admin.settings.access_lifetime')} required/>,\n            <div className=\"helpText\">\n              {app.translator.trans('foskym-oauth-center.admin.settings.access_lifetime')}\n            </div>,\n            Button.component({\n              type: 'submit',\n              className: 'Button Button--primary',\n              loading: this.saving\n            }, app.translator.trans('core.admin.settings.submit_button'))\n          ])}\n\n        </form>\n\n      </div>\n    );\n  }\n\n  saveSingleSetting(setting, value) {\n    if (this.saving) return;\n\n    this.saving = true;\n\n    this.values[setting] = value;\n\n    let data = {};\n    data[setting] = value;\n\n    saveSettings(data)\n      .then(() => app.alerts.show({type: 'success'}, app.translator.trans('core.admin.settings.saved_message')))\n      .catch(() => {\n      })\n      .then(() => {\n        this.saving = false;\n        m.redraw();\n      });\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    if (this.saving) return;\n\n    this.saving = true;\n    app.alerts.dismiss(this.successAlert);\n\n    const settings = {};\n\n    settings['foskym-oauth-center.access_lifetime'] = this.values['foskym-oauth-center.access_lifetime']();\n\n    // this.fields.forEach(key => {\n    //   settings[key] = this.values[key]()\n    //\n    // });\n\n    if (settings['foskym-oauth-center.access_lifetime'] === \"\") {\n      settings['foskym-oauth-center.access_lifetime'] = 3600;\n    }\n\n    saveSettings(settings)\n      .then(() => app.alerts.show({type: 'success'}, app.translator.trans('core.admin.settings.saved_message')))\n      .catch(() => {\n      })\n      .then(() => {\n        this.saving = false;\n        m.redraw();\n      });\n  }\n}\n","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nexport default class ClientsPage extends Page {\n  translationPrefix = 'foskym-oauth-center.admin.clients.';\n  clients = [];\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.fields = [\n      'client_id',\n      'client_secret',\n      'redirect_uri',\n      'grant_types',\n      'scope',\n      'client_name',\n      'client_desc',\n      'client_icon',\n      'client_home'\n    ];\n\n    app.store.find('oauth-clients').then(r => {\n      this.clients = r;\n      this.fields.map(key => console.log(this.clients[0][key]))\n      m.redraw();\n    });\n  }\n\n  view() {\n    return (\n      <div class={\"OAuthCenter-clientsPage\"}>\n        {\n          m('.Form-group', [\n            m('table', [\n              m('thead', m('tr', [\n                this.fields.map(key => m('th', app.translator.trans(this.translationPrefix + key))),\n                m('th'),\n              ])),\n              m('tbody', [\n                this.clients.map((client, index) => m('tr', [\n                  this.fields.map(key =>\n                    m('td', m('input.FormControl', {\n                      type: 'text',\n                      value: client[key]() || '',\n                      onchange: (event) => {\n                        this.saveClientInfo(index, key, event.target.value);\n                      },\n                    }))\n                  ),\n                  m('td', Button.component({\n                    className: 'Button Button--icon',\n                    icon: 'fas fa-times',\n                    onclick: () => {\n                      this.clients[index].delete();\n                      this.clients.splice(index, 1);\n\n                    },\n                  })),\n                ])),\n                m('tr', m('td', {\n                  colspan: 9,\n                }, Button.component({\n                  className: 'Button Button--block',\n                  onclick: () => {\n                    const client = app.store.createRecord('oauth-clients');\n                    const client_id = this.randomString(32);\n                    const client_secret = this.randomString(32);\n                    client.save({\n                      client_id: client_id,\n                      client_secret: client_secret,\n                    }).then(this.clients.push(client));\n                  },\n                }, app.translator.trans(this.translationPrefix + 'add_button')))),\n              ]),\n            ]),\n          ])\n        }\n      </div>\n    );\n  }\n\n  randomString(len) {\n    len = len || 32;\n    let $chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let maxPos = $chars.length;\n    let pwd = '';\n    for (let i = 0; i < len; i++) {\n      //0~32的整数\n      pwd += $chars.charAt(Math.floor(Math.random() * (maxPos + 1)));\n    }\n    return pwd;\n  }\n\n  saveClientInfo(index, key, value) {\n    console.log(index, key, value);\n    this.clients[index].save({\n      [key]: value,\n    });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Checkbox'];","import app from 'flarum/admin/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport Checkbox from 'flarum/common/components/Checkbox';\n\nexport default class ScopesPage extends Page {\n  translationPrefix = 'foskym-oauth-center.admin.scopes.';\n  scopes = [];\n\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.fields = [\n      'scope',\n      'resource_path',\n      'method',\n      'is_default',\n      'scope_name',\n      'scope_icon',\n      'scope_desc'\n    ];\n\n    app.store.find('oauth-scopes').then(r => {\n      this.scopes = r;\n      this.fields.map(key => console.log(this.scopes[0][key]))\n      m.redraw();\n    });\n  }\n\n  view() {\n    return (\n      <div class={\"OAuthCenter-scopesPage\"}>\n        {\n          m('.Form-group', [\n            m('table', [\n              m('thead', m('tr', [\n                this.fields.map(key => m('th', app.translator.trans(this.translationPrefix + key))),\n                m('th'),\n              ])),\n              m('tbody', [\n                this.scopes.map((scope, index) => m('tr', [\n                  this.fields.map(key =>\n                    m('td', key === 'method' ? Select.component({\n                      options: {\n                        'GET': 'GET',\n                        'POST': 'POST',\n                        'PUT': 'PUT',\n                        'DELETE': 'DELETE',\n                        'PATCH': 'PATCH',\n                      },\n                      value: scope[key]() || 'GET',\n                      onchange: (value) => {\n                        this.saveScopeInfo(index, key, value);\n                      },\n                    }) : key === 'is_default' ? Checkbox.component({\n                      state: scope[key]() === 1 || false,\n                      onchange: (checked) => {\n                        this.scopes[index].is_default((this.scopes[index].is_default() + 1) % 2)\n                        this.saveScopeInfo(index, key, checked ? 1 : 0);\n                      },\n                    }) : m('input.FormControl', {\n                      type: 'text',\n                      value: scope[key]() || '',\n                      onchange: (event) => {\n\n                        this.saveScopeInfo(index, key, event.target.value);\n                      },\n                    }))\n                  ),\n                  m('td', Button.component({\n                    className: 'Button Button--icon',\n                    icon: 'fas fa-times',\n                    onclick: () => {\n                      this.scopes[index].delete();\n                      this.scopes.splice(index, 1);\n\n                    },\n                  })),\n                ])),\n                m('tr', m('td', {\n                  colspan: 7,\n                }, Button.component({\n                  className: 'Button Button--block',\n                  onclick: () => {\n                    const scope = app.store.createRecord('oauth-scopes');\n                    scope.save({\n                      'scope': 'Scope.' + this.randomString(8),\n                      'resource_path': '/api/' + this.randomString(4),\n                      'method': 'GET',\n                    }).then(this.scopes.push(scope));\n                  },\n                }, app.translator.trans(this.translationPrefix + 'add_button')))),\n              ]),\n            ]),\n          ])\n        }\n      </div>\n    );\n  }\n  randomString(len) {\n    len = len || 8;\n    let $chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let maxPos = $chars.length;\n    let str = '';\n    for (let i = 0; i < len; i++) {\n      //0~32的整数\n      str += $chars.charAt(Math.floor(Math.random() * (maxPos + 1)));\n    }\n    return str;\n  }\n  saveScopeInfo(index, key, value) {\n    this.scopes[index].save({\n      [key]: value,\n    });\n  }\n}\n","import app from 'flarum/admin/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\nimport IndexPage from \"../pages/IndexPage\";\nimport ClientsPage from \"../pages/ClientsPage\";\nimport ScopesPage from \"../pages/ScopesPage\";\nexport default class SettingsPage extends ExtensionPage {\n    content() {\n        const page = m.route.param().page || 'index';\n\n        return (\n            <div className=\"ExtensionPage-settings OAuthCenter\">\n                <div className={\"oauth-menu\"}>\n                    <div className={\"container\"}>\n                        {this.menuButtons(page)}\n                    </div>\n                </div>\n\n                <div className=\"container OAuthCenterPage-container\">\n                    {this.pageContent(page)}\n                </div>\n            </div>\n        );\n    }\n\n    // Return button menus\n    menuButtons(page) {\n        return [\n            Button.component({\n                className: `Button ${page === 'index' ? 'item-selected' : ''}`,\n                onclick: () => m.route.set(\n                    app.route('extension', {\n                        id: 'foskym-oauth-center'\n                    })\n                ),\n                icon: 'fas fa-home',\n            }, app.translator.trans('foskym-oauth-center.admin.page.index')),\n            Button.component({\n                className: `Button ${page === 'clients' ? 'item-selected' : ''}`,\n                onclick: () => m.route.set(\n                    app.route('extension', {\n                        id: 'foskym-oauth-center',\n                        page: 'clients'\n                    })\n                ),\n                icon: 'fas fa-network-wired',\n            }, app.translator.trans('foskym-oauth-center.admin.page.clients')),\n            Button.component({\n                className: `Button ${page === 'scopes' ? 'item-selected' : ''}`,\n                onclick: () => m.route.set(\n                    app.route('extension', {\n                        id: 'foskym-oauth-center',\n                        page: 'scopes'\n                    })\n                ),\n                icon: 'fas fa-user-lock',\n            }, app.translator.trans('foskym-oauth-center.admin.page.scopes')),\n        ];\n    }\n\n\n    pageContent(page) {\n        if (page == 'clients') {\n            return <ClientsPage />\n        } else if (page == 'scopes') {\n            return <ScopesPage />\n        }\n        return <IndexPage />\n    }\n}\n","import app from 'flarum/admin/app';\nimport SettingsPage from './components/SettingsPage';\napp.initializers.add('foskym/flarum-oauth-center', () => {\n  app.extensionData\n    .for('foskym-oauth-center')\n    .registerPage(SettingsPage);\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","Client","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","client_id","Model","client_secret","redirect_uri","grant_types","scope","user_id","client_name","client_icon","client_desc","client_home","Scope","resource_path","method","is_default","scope_name","scope_icon","scope_desc","Extend","add","IndexPage","_Page","_proto","oninit","vnode","this","saving","fields","values","settings","app","forEach","Stream","i","view","_this2","m","onsubmit","className","FieldSet","style","Switch","state","onchange","saveSingleSetting","loading","trans","bidi","placeholder","required","Button","type","setting","_this3","data","saveSettings","then","show","redraw","e","_this4","preventDefault","dismiss","successAlert","Page","ClientsPage","translationPrefix","clients","find","r","map","console","log","class","client","index","event","saveClientInfo","target","icon","onclick","splice","colspan","createRecord","randomString","save","push","len","pwd","charAt","Math","floor","random","_this$clients$index$s","ScopesPage","scopes","Select","options","saveScopeInfo","Checkbox","checked","str","_this$scopes$index$sa","SettingsPage","_ExtensionPage","content","page","route","param","menuButtons","pageContent","set","id","ExtensionPage","registerPage"],"sourceRoot":""}